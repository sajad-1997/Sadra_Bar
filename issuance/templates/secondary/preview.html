{% load static %}
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>پیش‌نمایش بیجک</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet">

    <style>
        body {
            font-family: "Vazirmatn", "Tahoma", sans-serif;
            background-color: #f8f9fa;
        }
        .bijak-card {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,.1);
            margin-bottom: 20px;
        }
        .bijak-header {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            padding: 12px;
            border-radius: 12px 12px 0 0;
        }
        .table th {
            background-color: #f1f3f5;
            text-align: center;
        }
        .table td {
            vertical-align: middle;
        }
        .section-title {
            font-weight: bold;
            margin: 15px 0 8px;
            color: #343a40;
            border-right: 4px solid #0d6efd;
            padding-right: 8px;
        }
    </style>
</head>
<body>

<div class="container my-4">

    <!-- کارت اصلی بیجک -->
    <div class="bijak-card">
        <div class="bijak-header d-flex justify-content-between align-items-center">
            <h4 class="m-0">پیش‌نمایش بیجک</h4>
            <span>کد رهگیری: {{ bijak.tracking_code }}</span>
        </div>
        <div class="p-4">

            <!-- اطلاعات کلی بیجک -->
            <h5 class="section-title">اطلاعات بیجک</h5>
            <table class="table table-bordered text-center">
                <tr>
                    <th>تاریخ صدور</th>
                    <th>ارزش محموله</th>
                    <th>مبدا بارگیری</th>
                    <th>مقصد تخلیه</th>
                    <th>مبلغ بیمه</th>
                    <th>هزینه خدمات</th>
                </tr>
                <tr>
                    <td>{{ bijak.issuance_date }}</td>
                    <td>{{ bijak.value|default:"—" }}</td>
                    <td>{{ bijak.origin|default:"—" }}</td>
                    <td>{{ bijak.destination }}</td>
                    <td>{{ bijak.insurance }}</td>
                    <td>{{ bijak.loading_fee|default:"—" }}</td>
                </tr>
            </table>

            <!-- فرستنده -->
            <h5 class="section-title">اطلاعات فرستنده</h5>
            <table class="table table-bordered">
                <tr>
                    <th>نام و نام خانوادگی</th>
                    <th>کد ملی</th>
                    <th>آدرس</th>
                </tr>
                <tr>
                    <td>{{ bijak.sender.first_name }} {{ bijak.sender.last_name }}</td>
                    <td>{{ bijak.sender.national_id }}</td>
                    <td>{{ bijak.sender.address }}</td>
                </tr>
            </table>

            <!-- گیرنده -->
            <h5 class="section-title">اطلاعات گیرنده</h5>
            <table class="table table-bordered">
                <tr>
                    <th>نام و نام خانوادگی</th>
                    <th>کد ملی</th>
                    <th>آدرس</th>
                </tr>
                <tr>
                    <td>{{ bijak.receiver.first_name }} {{ bijak.receiver.last_name }}</td>
                    <td>{{ bijak.receiver.national_id }}</td>
                    <td>{{ bijak.receiver.address }}</td>
                </tr>
            </table>

            <!-- راننده -->
            <h5 class="section-title">اطلاعات راننده</h5>
            <table class="table table-bordered text-center">
                <tr>
                    <th>نام و نام خانوادگی</th>
                    <th>کد ملی</th>
                    <th>تاریخ تولد</th>
                    <th>شماره گواهی‌نامه</th>
                    <th>تاریخ صدور</th>
                    <th>موبایل</th>
                    <th>تلفن منزل</th>
                </tr>
                <tr>
                    <td>{{ bijak.driver.first_name }} {{ bijak.driver.last_name }}</td>
                    <td>{{ bijak.driver.national_id }}</td>
                    <td>{{ bijak.driver.birth_date }}</td>
                    <td>{{ bijak.driver.license_number }}</td>
                    <td>{{ bijak.driver.license_issue_date }}</td>
                    <td>{{ bijak.driver.phone }}</td>
                    <td>{{ bijak.driver.home_phone }}</td>
                </tr>
            </table>

            <!-- خودرو -->
            <h5 class="section-title">اطلاعات خودرو</h5>
            <table class="table table-bordered text-center">
                <tr>
                    <th>شماره پلاک</th>
                    <th>راننده</th>
                </tr>
                <tr>
                    <td>{{ bijak.vehicle.plate_number }}</td>
                    <td>{{ bijak.vehicle.driver.first_name }} {{ bijak.vehicle.driver.last_name }}</td>
                </tr>
            </table>

            <!-- محموله -->
            <h5 class="section-title">اطلاعات محموله</h5>
            <table class="table table-bordered text-center">
                <tr>
                    <th>شرح محموله</th>
                    <th>وزن</th>
                </tr>
                <tr>
                    <td>{{ bijak.cargo.description }}</td>
                    <td>{{ bijak.cargo.weight }}</td>
                </tr>
            </table>

        </div>
    </div>
</div>

</body>
</html>
